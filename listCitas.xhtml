<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<ui:composition template="master.xhtml">
	<ui:define name="title">
        .:Listado de Citas:.
    </ui:define>
	<ui:define name="titleCont">
		<span style="color: #0068FF">Citas</span>
	</ui:define>
	<ui:define name="content">
		<h:form>
			<div class="row">
				<div class="col-sm-12">
					<div class="form-group table-responsive box-table-class">
						<p:commandButton value="Nuevo"
							action="#{ReserveController.newReserve()}"
							styleClass="btn btn-primary" ajax="false" />
						<br />
						<p:dataTable id="lstReserve" var="re"
							value="#{ReserveController.listReserve}" paginator="true"
							paginatorPosition="top" rowsPerPageTemplate="10,20,30,40,50"
							rows="10" styleClass="table table-bordered"
							emptyMessage="No existen registros" rowIndexVar="item"
							style="margin-bottom:25">
							<br />
							<p:column headerText="Id" sortBy="#{re.idReserve}"
								class="thead-dark">
								<h:outputText value="#{re.idReserve}" class="thead-dark" />
							</p:column>
							<!-- Sintaxis incluir comentario xhtml -->
							<p:column headerText="Doctor" sortBy="#{re.Medic.nameMedic}">
								<h:outputText value="#{re.Medic.nameMedic}" />
							</p:column>
							<p:column headerText="Especialidad"
								sortBy="#{re.specialty}">
								<h:outputText value="#{re.specialty}}" />
							</p:column>

							<p:column headerText="Fecha y hora"
								sortBy="#{re.dateReserve}">
								<h:outputText value="#{re.dateReserve}">
									<f:convertDateTime pattern="dd-MM-yyyy" timeZone="UTC" />
								</h:outputText>
							</p:column>
							<p:column headerText="AcciÃ³n" style="text-align:center;">
								<h:commandLink action="#{ReserveController.goUpdate(re)}">
									<i class="fas fa-pencil-alt"></i>
								</h:commandLink>
							</p:column>
							<p:column headerText="AcciÃ³n" style="text-align:center;">
								<h:commandLink action="#{ReserveController.delete(re)}">
									<i class="fas fa-trash-alt"></i>
								</h:commandLink>
							</p:column>
						</p:dataTable>
						
					<!-- 	Este boton solo lo puse para ver la vista, 
					 para ctualizar se debe llamar al metdoo GoUpdate 
					 en la tabla de arriba "accion" el boton del lapiz
					 se debe llamar al metodo update del controller cita -->
						<p:commandButton value="Modificar cita"
							action="ModificarCita?faces-redirect=true" immediate="true"
							styleClass="btn btn-primary" ajax="false" />
						<br />
					</div>
				</div>
			</div>
		</h:form>
	</ui:define>
	<ui:define name="footerCont">
	</ui:define>
</ui:composition>
</html>

